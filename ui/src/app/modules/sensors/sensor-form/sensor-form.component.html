<div class="box">
  <form
    class="row p-0 m-0 reset-pm"
    [formGroup]="sensorForm"
    (ngSubmit)="onSubmitForm()"
    enctype="multipart/form-data"
    (change)="onSelectFile($event)"
  >
    <h1 class="m-0 p-0">Ajout d'un capteur</h1>
    <div class="from-group col-12 col-md-6 m-0 p-0 pe-md-3">
      <label for="sensorMetadataId">Capteur Parent</label>
      <select
        id="sensorMetadataId"
        class="form-control"
        formControlName="sensorMetadataId"
      >
        <option *ngFor="let smd of sensorsMetadata" [value]="smd.id">
          {{ smd.name }}
        </option>
      </select>
    </div>

    <div class="from-group col-12 col-md-6 m-0 p-0">
      <label for="name">Nom système</label>
      <input
        type="text"
        class="form-control"
        id="name"
        formControlName="name"
      />
    </div>

    <div class="from-group col-12 col-md-6 m-0 p-0 pe-md-3">
      <label for="displayName">Nom public</label>
      <input
        type="text"
        class="form-control"
        id="displayName"
        formControlName="displayName"
      />
    </div>

    <div class="from-group col-12 col-md-6 m-0 p-0">
      <label for="subDisplayName">Nom secondaire public</label>
      <input
        type="text"
        class="form-control"
        id="subDisplayName"
        formControlName="subDisplayName"
      />
    </div>

    <div class="from-group col-12 col-md-6 m-0 p-0 pe-md-3 mb-3">
      <label for="hiddenMessage">Message de mainteance</label>
      <input
        type="text"
        class="form-control"
        id="hiddenMessage"
        formControlName="hiddenMessage"
      />
    </div>

    <div class="from-group col-12 col-md-6 m-0 p-0">
      <label for="isHidden">Caché</label>
      <input
        class="mx-3"
        type="checkbox"
        id="isHidden"
        formControlName="isHidden"
        checked
      />
    </div>

    <div class="pos col-12 m-0 p-0">
      <div class="from-group col-12 col-md-5">
        <label for="latitude">Latitude</label>
        <input
          type="text"
          class="form-control"
          id="latitude"
          formControlName="latitude"
        />
      </div>
      <div class="from-group col-12 col-md-5">
        <label for="longitude">Longitude</label>
        <input
          type="text"
          class="form-control"
          id="longitude"
          formControlName="longitude"
        />
      </div>
      <div class="from-group col-12 col-md-2">
        <app-button
          url="/assets/buttons/geo.svg"
          width="120"
          (click)="onPosition()"
        >
          Ma position
        </app-button>
      </div>

      <div class="col-12 unselectable" style="height: 400px" id="map-sensor-form"></div>
    </div>

    <img *ngIf="previewUrl" [src]="previewUrl" height="100px" />
    <input type="file" name="img" id="img" accept=".jpg, .jpeg, .png" class="m-0 p-0" />

    <app-button url="/assets/buttons/upload.svg" width="160" type="submit" class="m-0 p-0">
      Ajouter le capteur
    </app-button>
  </form>
</div>
